{
  "version": 2,
  "name": "kms-test",
  "alias": "kms-test",
  "builds": [
    {
      "src": "www/home/package.json",
      "use": "@now/next",
      "config": {
        "useBuildUtils": "@now/build-utils@canary",
        "maxLambdaSize": "50mb"
      }
    },
    {
      "src": "www/blog/next.config.js",
      "use": "@now/next"
    },
    {
      "src": "www/home_mobile/next.config.js",
      "use": "@now/next"
    },
    {
      "src": "api/handlers/**/index.js",
      "use": "@now/node"
    },
    {
      "src": "api/handlers/**/index.go",
      "use": "@now/go"
    },
    {
      "src": "/static/*",
      "use": "@now/static"
    },
    {
      "src": "docs/package.json",
      "use": "@now/static-build"
    }
  ],
  "routes": [
    {
      "src": "/favicon.ico",
      "dest": "/static/favicon.ico"
    },
    {
      "src": "/robots.txt",
      "dest": "/static/robots.txt"
    },
    {
      "src": "/www/home/_next/(.*)",
      "headers": {
        "cache-control": "max-age=86400"
      },
      "dest": "/www/home/_next/$1"
    },
    {
      "src": "/www/blog/_next/(.*)",
      "headers": {
        "cache-control": "max-age=86400"
      },
      "dest": "/www/blog/_next/$1"
    },
    {
      "src": "/www/home_mobile/_next/(.*)",
      "headers": {
        "cache-control": "max-age=86400"
      },
      "dest": "/www/home_mobile/_next/$1"
    },
    {
      "src": "/docs/*",
      "headers": {
        "cache-control": "max-age=3600"
      },
      "dest": "/docs/index.html"
    },
    {
      "src": "/",
      "headers": {
        "cache-control": "max-age=600"
      },
      "dest": "/www/home/index"
    },
    {
      "src": "/m",
      "headers": {
        "cache-control": "max-age=600"
      },
      "dest": "/www/home_mobile/index"
    },
    {
      "src": "/about",
      "headers": {
        "cache-control": "max-age=600"
      },
      "dest": "/www/home/about"
    },
    {
      "src": "/m/about",
      "headers": {
        "cache-control": "max-age=600"
      },
      "dest": "/www/home_mobile/about"
    },
    {
      "src": "/hello-world",
      "headers": {
        "cache-control": "max-age=600"
      },
      "dest": "/www/blog/hello-world"
    },
    {
      "src": "/archives",
      "headers": {
        "cache-control": "max-age=600"
      },
      "dest": "/www/blog/archives"
    },
    {
      "src": "/api/pdf",
      "dest": "/api/handlers/pdf/index.go"
    },
    {
      "src": "/api/(.*)",
      "methods": [
        "POST"
      ],
      "dest": "/api/handlers/$1"
    }
  ],
  "build": {
    "env": {
      "API_HOST": "@api_host",
      "GOOGLE_CLIENT_ID": "@google_client_id"
    }
  },
  "env": {
    "WWW_HOME_PREFIX": "/www/home",
    "WWW_BLOG_PREFIX": "/www/blog",
    "WWW_HOME_MOBILE_PREFIX": "/www/home_mobile",
    "API_HOST": "@api_host",
    "JWT_SECRET": "tanphong"
  }
}